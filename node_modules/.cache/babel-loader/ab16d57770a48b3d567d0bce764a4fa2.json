{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport * as React from 'react';\n\nconst useRequestAnimationFrame = callback => {\n  _s();\n\n  React.useEffect(() => {\n    let rAF;\n    let elapsed;\n\n    const animate = time => {\n      if (elapsed != undefined) {\n        const deltaTime = time - elapsed;\n        callback(deltaTime);\n      }\n\n      elapsed = time;\n      rAF = window.requestAnimationFrame(animate);\n    };\n\n    rAF = window.requestAnimationFrame(animate);\n    return () => {\n      if (rAF) window.cancelAnimationFrame(rAF);\n    };\n  }, []);\n};\n\n_s(useRequestAnimationFrame, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\nexport default useRequestAnimationFrame;","map":{"version":3,"sources":["/Users/leejaeuk/Dev/playground/numble-1/src/features/game/useRequestAnimationFrame.ts"],"names":["React","useRequestAnimationFrame","callback","useEffect","rAF","elapsed","animate","time","undefined","deltaTime","window","requestAnimationFrame","cancelAnimationFrame"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;;AAIA,MAAMC,wBAAwB,GAAIC,QAAD,IAAwB;AAAA;;AACxDF,EAAAA,KAAK,CAACG,SAAN,CAAgB,MAAM;AACrB,QAAIC,GAAJ;AACA,QAAIC,OAAJ;;AAEA,UAAMC,OAAO,GAAIC,IAAD,IAAkB;AACjC,UAAIF,OAAO,IAAIG,SAAf,EAA0B;AACzB,cAAMC,SAAS,GAAGF,IAAI,GAAGF,OAAzB;AACAH,QAAAA,QAAQ,CAACO,SAAD,CAAR;AACA;;AAEDJ,MAAAA,OAAO,GAAGE,IAAV;AACAH,MAAAA,GAAG,GAAGM,MAAM,CAACC,qBAAP,CAA6BL,OAA7B,CAAN;AACA,KARD;;AAUAF,IAAAA,GAAG,GAAGM,MAAM,CAACC,qBAAP,CAA6BL,OAA7B,CAAN;AAEA,WAAO,MAAM;AACZ,UAAIF,GAAJ,EAASM,MAAM,CAACE,oBAAP,CAA4BR,GAA5B;AACT,KAFD;AAGA,GAnBD,EAmBG,EAnBH;AAoBA,CArBD;;GAAMH,wB;;AAuBN,eAAeA,wBAAf","sourcesContent":["import * as React from 'react';\n\ntype Callback = (deltaTime: number) => void;\n\nconst useRequestAnimationFrame = (callback: Callback) => {\n\tReact.useEffect(() => {\n\t\tlet rAF: number | undefined;\n\t\tlet elapsed: number | undefined;\n\n\t\tconst animate = (time: number) => {\n\t\t\tif (elapsed != undefined) {\n\t\t\t\tconst deltaTime = time - elapsed;\n\t\t\t\tcallback(deltaTime);\n\t\t\t}\n\n\t\t\telapsed = time;\n\t\t\trAF = window.requestAnimationFrame(animate);\n\t\t};\n\n\t\trAF = window.requestAnimationFrame(animate);\n\n\t\treturn () => {\n\t\t\tif (rAF) window.cancelAnimationFrame(rAF);\n\t\t};\n\t}, []);\n};\n\nexport default useRequestAnimationFrame;\n"]},"metadata":{},"sourceType":"module"}