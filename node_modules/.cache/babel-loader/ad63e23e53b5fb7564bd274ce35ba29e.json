{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport * as React from 'react';\n\nconst useRequestAnimationFrame = (callback, deps) => {\n  _s();\n\n  const savedCallback = React.useRef(callback);\n  React.useEffect(() => {\n    let rAF;\n    let elapsed;\n\n    const animate = time => {\n      if (elapsed !== undefined) {\n        const deltaTime = time - elapsed;\n        savedCallback.current(deltaTime);\n      }\n\n      elapsed = time;\n      rAF = window.requestAnimationFrame(animate);\n    };\n\n    rAF = window.requestAnimationFrame(animate);\n    return () => {\n      if (rAF) window.cancelAnimationFrame(rAF);\n    };\n  }, [...deps]);\n};\n\n_s(useRequestAnimationFrame, \"UZ8JAOz/69+PYTRnxQjAsLtHBe4=\");\n\nexport default useRequestAnimationFrame;","map":{"version":3,"sources":["/Users/leejaeuk/Dev/playground/numble-1/src/features/game/useRequestAnimationFrame.ts"],"names":["React","useRequestAnimationFrame","callback","deps","savedCallback","useRef","useEffect","rAF","elapsed","animate","time","undefined","deltaTime","current","window","requestAnimationFrame","cancelAnimationFrame"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;;AAIA,MAAMC,wBAAwB,GAAG,CAACC,QAAD,EAAqBC,IAArB,KAAoD;AAAA;;AACpF,QAAMC,aAAa,GAAGJ,KAAK,CAACK,MAAN,CAAuBH,QAAvB,CAAtB;AAEAF,EAAAA,KAAK,CAACM,SAAN,CAAgB,MAAM;AACrB,QAAIC,GAAJ;AACA,QAAIC,OAAJ;;AAEA,UAAMC,OAAO,GAAIC,IAAD,IAAkB;AACjC,UAAIF,OAAO,KAAKG,SAAhB,EAA2B;AAC1B,cAAMC,SAAS,GAAGF,IAAI,GAAGF,OAAzB;AACAJ,QAAAA,aAAa,CAACS,OAAd,CAAsBD,SAAtB;AACA;;AAEDJ,MAAAA,OAAO,GAAGE,IAAV;AACAH,MAAAA,GAAG,GAAGO,MAAM,CAACC,qBAAP,CAA6BN,OAA7B,CAAN;AACA,KARD;;AAUAF,IAAAA,GAAG,GAAGO,MAAM,CAACC,qBAAP,CAA6BN,OAA7B,CAAN;AAEA,WAAO,MAAM;AACZ,UAAIF,GAAJ,EAASO,MAAM,CAACE,oBAAP,CAA4BT,GAA5B;AACT,KAFD;AAGA,GAnBD,EAmBG,CAAC,GAAGJ,IAAJ,CAnBH;AAoBA,CAvBD;;GAAMF,wB;;AAyBN,eAAeA,wBAAf","sourcesContent":["import * as React from 'react';\n\ntype Callback = (deltaTime: number) => void;\n\nconst useRequestAnimationFrame = (callback: Callback, deps: React.DependencyList) => {\n\tconst savedCallback = React.useRef<Callback>(callback);\n\n\tReact.useEffect(() => {\n\t\tlet rAF: number | undefined;\n\t\tlet elapsed: number | undefined;\n\n\t\tconst animate = (time: number) => {\n\t\t\tif (elapsed !== undefined) {\n\t\t\t\tconst deltaTime = time - elapsed;\n\t\t\t\tsavedCallback.current(deltaTime);\n\t\t\t}\n\n\t\t\telapsed = time;\n\t\t\trAF = window.requestAnimationFrame(animate);\n\t\t};\n\n\t\trAF = window.requestAnimationFrame(animate);\n\n\t\treturn () => {\n\t\t\tif (rAF) window.cancelAnimationFrame(rAF);\n\t\t};\n\t}, [...deps]);\n};\n\nexport default useRequestAnimationFrame;\n"]},"metadata":{},"sourceType":"module"}