{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport * as React from 'react';\nconst initialState = {\n  remainingTime: 0,\n  stage: 0,\n  score: 0,\n  isStarted: false,\n  isGameOver: false\n};\n\nconst useGame = () => {\n  _s();\n\n  return React.useReducer(gameReducer, initialState);\n};\n\n_s(useGame, \"skVOqNGrFQuDFh+lpttAJ2AZFeA=\");\n\nexport default useGame;\nexport const gameReducer = (state, action) => {\n  console.log(state, action);\n\n  switch (action.type) {\n    case 'init':\n      {\n        return {\n          remainingTime: 15000,\n          stage: 1,\n          score: 0,\n          isStarted: true,\n          isGameOver: false\n        };\n      }\n\n    case 'done':\n      {\n        return initialState;\n      }\n\n    case 'tick':\n      {\n        if (state.isStarted) {\n          if (state.remainingTime <= 0) {\n            return produce(state, {\n              isStarted: false,\n              isGameOver: true\n            });\n          }\n\n          return produce(state, {\n            remainingTime: state.remainingTime - 100\n          });\n        }\n\n        return state;\n      }\n\n    default:\n      {\n        throw new Error('invalid action');\n      }\n  }\n\n  ;\n};\n\nconst produce = (state, newState) => ({ ...state,\n  ...newState\n});","map":{"version":3,"sources":["/Users/leejaeuk/Dev/playground/numble-1/src/features/game/useGame.ts"],"names":["React","initialState","remainingTime","stage","score","isStarted","isGameOver","useGame","useReducer","gameReducer","state","action","console","log","type","produce","Error","newState"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAEA,MAAMC,YAAmB,GAAG;AAC3BC,EAAAA,aAAa,EAAE,CADY;AAE3BC,EAAAA,KAAK,EAAE,CAFoB;AAG3BC,EAAAA,KAAK,EAAE,CAHoB;AAI3BC,EAAAA,SAAS,EAAE,KAJgB;AAK3BC,EAAAA,UAAU,EAAE;AALe,CAA5B;;AAQA,MAAMC,OAAO,GAAG;AAAA;;AAAA,SACdP,KAAK,CAACQ,UAAN,CAAiBC,WAAjB,EAA8BR,YAA9B,CADc;AAAA,CAAhB;;GAAMM,O;;AAGN,eAAeA,OAAf;AAEA,OAAO,MAAME,WAAyC,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC3EC,EAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ,EAAmBC,MAAnB;;AAEA,UAAQA,MAAM,CAACG,IAAf;AACC,SAAK,MAAL;AAAa;AACZ,eAAO;AACNZ,UAAAA,aAAa,EAAE,KADT;AAENC,UAAAA,KAAK,EAAE,CAFD;AAGNC,UAAAA,KAAK,EAAE,CAHD;AAINC,UAAAA,SAAS,EAAE,IAJL;AAKNC,UAAAA,UAAU,EAAE;AALN,SAAP;AAOA;;AACD,SAAK,MAAL;AAAa;AACZ,eAAOL,YAAP;AACA;;AACD,SAAK,MAAL;AAAa;AACZ,YAAIS,KAAK,CAACL,SAAV,EAAqB;AACpB,cAAIK,KAAK,CAACR,aAAN,IAAuB,CAA3B,EAA8B;AAC7B,mBAAOa,OAAO,CAACL,KAAD,EAAQ;AAAEL,cAAAA,SAAS,EAAE,KAAb;AAAoBC,cAAAA,UAAU,EAAE;AAAhC,aAAR,CAAd;AACA;;AAED,iBAAOS,OAAO,CAACL,KAAD,EAAQ;AAAER,YAAAA,aAAa,EAAEQ,KAAK,CAACR,aAAN,GAAsB;AAAvC,WAAR,CAAd;AACA;;AAED,eAAOQ,KAAP;AACA;;AACD;AAAS;AACR,cAAM,IAAIM,KAAJ,CAAU,gBAAV,CAAN;AACA;AA1BF;;AA2BC;AACD,CA/BM;;AA+CP,MAAMD,OAAO,GAAG,CAAIL,KAAJ,EAAcO,QAAd,MACb,EAAE,GAAGP,KAAL;AAAY,KAAGO;AAAf,CADa,CAAhB","sourcesContent":["import * as React from 'react';\n\nconst initialState: State = {\n\tremainingTime: 0,\n\tstage: 0,\n\tscore: 0,\n\tisStarted: false,\n\tisGameOver: false,\n};\n\nconst useGame = () =>\n  React.useReducer(gameReducer, initialState);\n\nexport default useGame;\n\nexport const gameReducer: React.Reducer<State, Action> = (state, action) => {\n\tconsole.log(state, action);\n\n\tswitch (action.type) {\n\t\tcase 'init': {\n\t\t\treturn {\n\t\t\t\tremainingTime: 15000,\n\t\t\t\tstage: 1,\n\t\t\t\tscore: 0,\n\t\t\t\tisStarted: true,\n\t\t\t\tisGameOver: false,\n\t\t\t};\n\t\t}\n\t\tcase 'done': {\n\t\t\treturn initialState;\n\t\t}\n\t\tcase 'tick': {\n\t\t\tif (state.isStarted) {\n\t\t\t\tif (state.remainingTime <= 0) {\n\t\t\t\t\treturn produce(state, { isStarted: false, isGameOver: true });\n\t\t\t\t}\n\n\t\t\t\treturn produce(state, { remainingTime: state.remainingTime - 100 });\n\t\t\t}\n\n\t\t\treturn state;\n\t\t}\n\t\tdefault: {\n\t\t\tthrow new Error('invalid action');\n\t\t}\n\t};\n};\n\ninterface State {\n\tremainingTime: number;\n\tstage: number;\n\tscore: number;\n\tisStarted: boolean;\n\tisGameOver: boolean;\n}\n\ntype Action =\n  | { type: 'init' }\n\t| { type: 'done' }\n\t| { type: 'tick' }\n;\n\nconst produce = <S>(state: S, newState: Partial<S>): S =>\n  ({ ...state, ...newState });\n"]},"metadata":{},"sourceType":"module"}