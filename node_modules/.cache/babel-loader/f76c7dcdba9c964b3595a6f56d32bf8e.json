{"ast":null,"code":"var _jsxFileName = \"/Users/leejaeuk/Dev/playground/numble-1/src/components/GameHeader.tsx\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport { styled } from '../stitches.config';\nimport { useRequestAnimationFrame } from '../hooks';\nimport GameStatus from './GameStatus';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst GameHeader = _ref => {\n  _s();\n\n  let {\n    isStarted,\n    stage,\n    score,\n    onGameEnd\n  } = _ref;\n  const [remainingTime, setRemainingTime] = React.useState(15000);\n\n  const tick = () => setRemainingTime(prev => prev - 100);\n\n  const elapsedTime = React.useRef(0);\n  useRequestAnimationFrame(deltaTime => {\n    if (!isStarted) return;\n    elapsedTime.current += deltaTime;\n\n    if (elapsedTime.current >= 100) {\n      elapsedTime.current = 0;\n      tick();\n    }\n  }, [isStarted]);\n  React.useEffect(() => {\n    if (remainingTime >= 0) return;\n    onGameEnd();\n  }, [remainingTime]);\n  return /*#__PURE__*/_jsxDEV(Header, {\n    children: /*#__PURE__*/_jsxDEV(GameStatus, {\n      stage: stage,\n      score: score,\n      time: remainingTime\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n\n_s(GameHeader, \"56GRNwBwc1GLDNR6WiIOWq34KWM=\", false, function () {\n  return [useRequestAnimationFrame];\n});\n\n_c = GameHeader;\nexport default GameHeader;\nconst Header = styled('div', {\n  width: '100%',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'space-between',\n  minHeight: 44.8\n});\n_c2 = Header;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"GameHeader\");\n$RefreshReg$(_c2, \"Header\");","map":{"version":3,"sources":["/Users/leejaeuk/Dev/playground/numble-1/src/components/GameHeader.tsx"],"names":["React","styled","useRequestAnimationFrame","GameStatus","GameHeader","isStarted","stage","score","onGameEnd","remainingTime","setRemainingTime","useState","tick","prev","elapsedTime","useRef","deltaTime","current","useEffect","Header","width","display","alignItems","justifyContent","minHeight"],"mappings":";;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,MAAT,QAAuB,oBAAvB;AACA,SAASC,wBAAT,QAAyC,UAAzC;AACA,OAAOC,UAAP,MAAuB,cAAvB;;;AASA,MAAMC,UAAqC,GAAG,QAKxC;AAAA;;AAAA,MALyC;AAC7CC,IAAAA,SAD6C;AAE7CC,IAAAA,KAF6C;AAG7CC,IAAAA,KAH6C;AAI7CC,IAAAA;AAJ6C,GAKzC;AACJ,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCV,KAAK,CAACW,QAAN,CAAuB,KAAvB,CAA1C;;AACA,QAAMC,IAAI,GAAG,MAAMF,gBAAgB,CAAEG,IAAD,IAAUA,IAAI,GAAG,GAAlB,CAAnC;;AAEA,QAAMC,WAAW,GAAGd,KAAK,CAACe,MAAN,CAAqB,CAArB,CAApB;AAEAb,EAAAA,wBAAwB,CAAEc,SAAD,IAAe;AACtC,QAAI,CAACX,SAAL,EAAgB;AAEhBS,IAAAA,WAAW,CAACG,OAAZ,IAAuBD,SAAvB;;AAEA,QAAIF,WAAW,CAACG,OAAZ,IAAuB,GAA3B,EAAgC;AAC9BH,MAAAA,WAAW,CAACG,OAAZ,GAAsB,CAAtB;AACAL,MAAAA,IAAI;AACL;AACF,GATuB,EASrB,CAACP,SAAD,CATqB,CAAxB;AAWAL,EAAAA,KAAK,CAACkB,SAAN,CAAgB,MAAM;AACpB,QAAIT,aAAa,IAAI,CAArB,EAAwB;AACxBD,IAAAA,SAAS;AACV,GAHD,EAGG,CAACC,aAAD,CAHH;AAKA,sBACE,QAAC,MAAD;AAAA,2BACE,QAAC,UAAD;AACE,MAAA,KAAK,EAAEH,KADT;AAEE,MAAA,KAAK,EAAEC,KAFT;AAGE,MAAA,IAAI,EAAEE;AAHR;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AASD,CApCD;;GAAML,U;UAWJF,wB;;;KAXIE,U;AAsCN,eAAeA,UAAf;AAEA,MAAMe,MAAM,GAAGlB,MAAM,CAAC,KAAD,EAAQ;AAC3BmB,EAAAA,KAAK,EAAE,MADoB;AAE3BC,EAAAA,OAAO,EAAE,MAFkB;AAG3BC,EAAAA,UAAU,EAAE,QAHe;AAI3BC,EAAAA,cAAc,EAAE,eAJW;AAK3BC,EAAAA,SAAS,EAAE;AALgB,CAAR,CAArB;MAAML,M","sourcesContent":["import * as React from 'react';\nimport { styled } from '../stitches.config';\nimport { useRequestAnimationFrame } from '../hooks';\nimport GameStatus from './GameStatus';\n\ninterface GameHeaderProps {\n  isStarted: boolean;\n  stage: number;\n  score: number;\n  onGameEnd: () => void;\n}\n\nconst GameHeader: React.FC<GameHeaderProps> = ({\n  isStarted,\n  stage,\n  score,\n  onGameEnd,\n}) => {\n  const [remainingTime, setRemainingTime] = React.useState<number>(15000);\n  const tick = () => setRemainingTime((prev) => prev - 100);\n\n  const elapsedTime = React.useRef<number>(0);\n\n  useRequestAnimationFrame((deltaTime) => {\n    if (!isStarted) return;\n\n    elapsedTime.current += deltaTime;\n\n    if (elapsedTime.current >= 100) {\n      elapsedTime.current = 0;\n      tick();\n    }\n  }, [isStarted]);\n\n  React.useEffect(() => {\n    if (remainingTime >= 0) return;\n    onGameEnd();\n  }, [remainingTime]);\n\n  return (\n    <Header>\n      <GameStatus\n        stage={stage}\n        score={score}\n        time={remainingTime}\n      />\n    </Header>\n  );\n};\n\nexport default GameHeader;\n\nconst Header = styled('div', {\n  width: '100%',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'space-between',\n  minHeight: 44.8,\n});\n"]},"metadata":{},"sourceType":"module"}